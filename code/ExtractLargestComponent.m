function [largest_comp] = ExtractLargestComponent(img)  max_val = max(img(:));    if( max_val > 1)    img = img > 50;  end    CC = bwconncomp(img);  num2remove = CC.NumObjects - 1;  for i=1:num2remove    numPixels = cellfun(@numel,CC.PixelIdxList);    [biggest,idx] = min(numPixels);    img(CC.PixelIdxList{idx}) = 0;    CC = bwconncomp(img);  end  largest_comp = img;end